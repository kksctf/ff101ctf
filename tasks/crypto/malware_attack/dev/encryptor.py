#!/usr/bin/env python

import sys

prefix = ".encrypted"
key = b"\x01\x02\x03\x04\x04\x08\x09\x0a\xff\xa8\x13\xd1\x6a\x15\x14\xa1\xe6\xee\x01\x00\x19\xaf\xdc\xb5\xe3\x02\x03\x61\x83\xb3\xff\xff"
assert(len(key) == 32)

if len(sys.argv) != 2:
    print("Usage: ./encryptor.py <file>")
    sys.exit(-1)

with open(sys.argv[1], "rb") as f:
    data = f.read()
    with open(sys.argv[1] + prefix, "wb") as out:
        for i in range(0, len(data)):
            out.write((data[i] ^ key[i % len(key)]).to_bytes(1, "big"))
print("[+] Done ")
